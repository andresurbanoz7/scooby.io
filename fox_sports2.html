<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Reproductor Autorecargable</title>
  <script src="https://cdn.jsdelivr.net/npm/@clappr/player@0.8/dist/clappr.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swarmcloud-hls@latest/dist/p2p-engine.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swarmcloud-hls@latest/dist/clappr-p2p-plugin.min.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: black; }
    #player { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
  </style>
</head>
<body>
  <div id="player"></div>
  <script>
    var Rx=[],_s="IlI";
Rx=[[113,"a041ODM0NTZvQw=="],[147,"UUo1ODM0NTlRTg=="],[10,"RW01ODM1MTF4RA=="],[70,"eUc1ODM1MTJEVA=="],[100,"aFA1ODM0NjhUTA=="],[112,"SE81ODM0NjduZg=="],[78,"TFM1ODM0NjB1ZA=="],[143,"QkI1ODM0Njd3Yg=="],[84,"SWk1ODM1MTBDVQ=="],[61,"RFM1ODM0NTdHbg=="],[32,"REY1ODM1MTFyVg=="],[19,"bVE1ODM1MThkVg=="],[22,"RXI1ODM1MjVraA=="],[26,"Wmw1ODM1MjZ1Yg=="],[127,"SXY1ODM0NTZ6Yw=="],[96,"SlU1ODM0NjNoSQ=="],[39,"akU1ODM0NjNHWA=="],[152,"VlM1ODM0NjJiZQ=="],[145,"WkQ1ODM0NTdVTg=="],[43,"R201ODM1MTlxeQ=="],[138,"aVE1ODM0NDlOYw=="],[45,"T2o1ODM1MDl2TA=="],[134,"Qlc1ODM0NjdWdw=="],[129,"RXo1ODM0NjZ1eA=="],[47,"U3k1ODM1MTlCcA=="],[36,"WXU1ODM1MjBBUw=="],[33,"Vlc1ODM0NTdZQg=="],[105,"ZlY1ODM1MTFWeQ=="],[137,"RUM1ODM0NjBrZw=="],[7,"ZEs1ODM0NThRZg=="],[125,"bWU1ODM0NjFTUw=="],[126,"SGM1ODM0NjBuaw=="],[75,"UW01ODM0NjRMbQ=="],[136,"Q0o1ODM0NjFUdQ=="],[42,"U3k1ODM1MTRTeA=="],[133,"cGs1ODM0NjdtRA=="],[34,"Vk81ODM1MTBTcg=="],[140,"dXM1ODM1MjNSUA=="],[14,"ZE81ODM0NTdJcQ=="],[139,"ZnY1ODM1MTZ0ZQ=="],[40,"a2s1ODM0NjJzeA=="],[35,"YlM1ODM1MjJBeg=="],[51,"T0c1ODM1MzFtbw=="],[31,"d0U1ODM1MTVYQg=="],[117,"SWE1ODM0NjBndg=="],[17,"RXA1ODM1MDhwRQ=="],[6,"UUU1ODM0NTh3YQ=="],[11,"VnA1ODM1MjVDcQ=="],[116,"V3c1ODM0NTZNVg=="],[148,"aEU1ODM0NjJJaQ=="],[124,"V1I1ODM0NTlGeQ=="],[63,"Z2E1ODM0NjJTaA=="],[30,"aE01ODM1MTJZbg=="],[65,"eEM1ODM0NjdVVw=="],[12,"cWM1ODM1MTZpeg=="],[101,"eGM1ODM0NjFIcg=="],[85,"SW01ODM1MTNLcg=="],[5,"ZWM1ODM0NjlxRQ=="],[122,"eWw1ODM0NjF6Qw=="],[106,"VWs1ODM1MTNIeA=="],[76,"QnY1ODM1MTFldg=="],[120,"VkI1ODM0NjVaUw=="],[142,"ZEQ1ODM0NjBscQ=="],[29,"dFI1ODM1MjlUbw=="],[20,"ZFM1ODM1MjZqeg=="],[24,"YXg1ODM1MDhZUw=="],[8,"d1Y1ODM1MjBtWg=="],[92,"R0s1ODM0NjVtTw=="],[74,"cWk1ODM0NjJwRA=="],[93,"Ymo1ODM0NjNlUw=="],[57,"aHM1ODM1MjFHSw=="],[107,"UUs1ODM0NjhSYg=="],[90,"S1c1ODM1MDlxZg=="],[111,"Vk41ODM1MTFFVQ=="],[94,"ZEs1ODM0NTlwRQ=="],[41,"Qlk1ODM0NThXcQ=="],[150,"aU01ODM0NjBKTg=="],[135,"WFE1ODM0NjV0eA=="],[49,"dk01ODM1MTNCRA=="],[48,"UmQ1ODM0NThFRQ=="],[88,"V0k1ODM1MTF3Ug=="],[58,"SmY1ODM1MTFjaQ=="],[82,"ZHg1ODM1MTFWdA=="],[103,"bGs1ODM0NjNDTg=="],[104,"b2E1ODM0NTlpZw=="],[118,"ZGs1ODM0NjZaZQ=="],[123,"Vk41ODM0NjB1Zw=="],[95,"VGw1ODM0NjJUdQ=="],[109,"dlI1ODM0NjZEdQ=="],[68,"Y2Y1ODM1MjJJbQ=="],[25,"b3k1ODM1MjBTSg=="],[154,"d001ODM0NjFqdw=="],[130,"Vks1ODM0NjNMaQ=="],[153,"T2s1ODM0NTdQWg=="],[60,"dlA1ODM1MzFydg=="],[38,"YUE1ODM0NjNKeA=="],[13,"VHU1ODM1MTFmQw=="],[146,"b2U1ODM0NjFESg=="],[86,"Zm81ODM0NjVkdw=="],[110,"emQ1ODM1MDlSaQ=="],[155,"d201ODM0NTlXcg=="],[97,"dGQ1ODM0NjJsTg=="],[80,"YW41ODM0NjNzRQ=="],[77,"cko1ODM0NjdpUg=="],[131,"UXc1ODM0NjVRdg=="],[91,"QVo1ODM0NTlRVg=="],[98,"c0Y1ODM1MDlLQw=="],[151,"WGo1ODM0NjBKTg=="],[79,"U2w1ODM0NjJUZw=="],[37,"bEI1ODM0Njl3Uw=="],[62,"WVA1ODM1MjBHSQ=="],[114,"T0U1ODM0NjBUVA=="],[69,"V0o1ODM1MThBbA=="],[121,"VGQ1ODM0NjhReA=="],[102,"WFI1ODM0NjJhYg=="],[81,"dHk1ODM1MDhXZQ=="],[54,"Z241ODM1MjVlWQ=="],[66,"Y1c1ODM0NzRCRg=="],[4,"ZFI1ODM1MjZpRQ=="],[44,"cmQ1ODM1MjJlWA=="],[9,"cHg1ODM1MDhDQw=="],[52,"cGw1ODM0NjFiYg=="],[132,"cUk1ODM0Njdtdg=="],[108,"ZG41ODM0NjNCWA=="],[72,"UUY1ODM0NzJzTg=="],[59,"a2c1ODM1MTJNUQ=="],[0,"R001ODM1MTVXSg=="],[2,"Wmc1ODM1MjdReg=="],[3,"YlI1ODM1MjNQVg=="],[115,"dnM1ODM1MDhLaw=="],[56,"ZVQ1ODM1MTZodA=="],[64,"Y3I1ODM1MjhhRA=="],[89,"aW81ODM1MTJRUA=="],[16,"VHg1ODM1MjVIRA=="],[71,"RFY1ODM1MjFUUQ=="],[141,"RWs1ODM0NzJWaw=="],[53,"Tm81ODM1MDhKbg=="],[149,"bVk1ODM0NTduQQ=="],[67,"YUI1ODM1MjdndQ=="],[46,"cXo1ODM1MDhQeQ=="],[119,"dXU1ODM0NjNaTg=="],[23,"S0U1ODM1MTJmcQ=="],[144,"SXc1ODM0NjB4UA=="],[55,"eUw1ODM0NThWUQ=="],[28,"VUg1ODM1MTZxeQ=="],[128,"YWc1ODM0NjBXRw=="],[27,"R041ODM1MTlrYw=="],[83,"V3g1ODM0NjBvWg=="],[18,"S081ODM1MTBsbw=="],[1,"cnA1ODM1MjdhVA=="],[99,"YlA1ODM0NjJDSg=="],[87,"cHI1ODM1MTJyVg=="],[15,"UGY1ODM1MTBMVg=="],[73,"Tlc1ODM0NjhwYw=="],[50,"eE41ODM1MjJESQ=="],[21,"ZW81ODM1MjdqZA=="]];
Rx.sort((a,b)=>a[0]-b[0]);
var k=glxNQ()+wXqEU();

function glxNQ(){return 57749;}
function wXqEU(){return 525662; }

    let currentPlayer = null;

    function generarPlaybackURL() {
      const k = glxNQ() + wXqEU(); // 692028
      let url = '';
      for (const e of Rx) {
        const v = e[1];
        url += String.fromCharCode(parseInt(atob(v).replace(/\D/g, '')) - k);
      }
      return url;
    }

    function reproducir() {
      const playbackURL = generarPlaybackURL();
      if (!playbackURL || playbackURL.length < 20 || !playbackURL.includes("http")) {
        console.warn("URL invÃ¡lida");
        return false;
      }

      const p2pConfig = { trackerZone: 'us', sourceUrl: playbackURL };
      P2PEngineHls.tryRegisterServiceWorker(p2pConfig).then(() => {
        if (currentPlayer) currentPlayer.destroy();
        currentPlayer = new Clappr.Player({
          source: playbackURL,
          parentId: "#player",
          plugins: [SwarmCloudClapprPlugin],
          width: "100%",
          height: "100%",
          autoPlay: true,
          mute: false,
          playsinline: true,
          playback: {
            hlsjsConfig: {
              maxBufferSize: 0,
              maxBufferLength: 12,
              liveSyncDurationCount: 3,
              p2pConfig: p2pConfig
            }
          }
        });
        window.player = currentPlayer;
      });

      return true;
    }

    function iniciarVerificacion() {
      setInterval(() => {
        if (!currentPlayer) return;
        const estado = currentPlayer.getPlayback()?.getState?.();
        if (["IDLE", "STOPPED", "ERROR"].includes(estado)) {
          console.warn("Stream detenido. Recargando...");
          reproducir();
        }
      }, 30000); // cada 30 segundos
    }

    reproducir();
    iniciarVerificacion();
  </script>
</body>
</html>
