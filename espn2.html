<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Reproductor de ESPN</title>
    <!-- Pol√≠tica de seguridad para bloquear scripts no deseados -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://tiogol.com ; object-src 'none';">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }
        .video-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            box-shadow: none;
            transition: transform 0.3s ease;
        }
        /* Ajuste para pantallas peque√±as (m√≥viles y tablets) */
        @media (max-width: 768px) {
            iframe {
                height: calc(100vh - 50px); /* Deja espacio para el bot√≥n */
            }
        }
        /* Bot√≥n de reproducci√≥n */
        .play-button {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            border: none;
            font-size: 16px;
            cursor: pointer;
            z-index: 2;
            display: none; /* Oculto por defecto */
        }
        /* Mejoras visuales para el bot√≥n */
        .play-button:hover {
            background: rgba(255, 255, 255, 0.9);
            color: black;
        }
        /* Mensaje de advertencia para rotaci√≥n */
        .rotate-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            text-align: center;
            z-index: 3;
            display: none;
        }
        .rotate-message span {
            display: block;
            margin-top: 10px;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <!-- Mensaje de rotaci√≥n para m√≥viles -->
        <div class="rotate-message" id="rotateMessage">
            Por favor, gira tu dispositivo para una mejor experiencia
            <span>üì±</span>
        </div>

        <!-- Bot√≥n de "Reproducir" para m√≥viles -->
        <button class="play-button" id="playBtn">‚ñ∂ Reproducir</button>

        <!-- Iframe del video -->
        <iframe 
            id="videoFrame"
            src="https://tiogol.com/vivo/canal.php?stream=espn2"
            allow="autoplay; fullscreen; encrypted-media; gyroscope; accelerometer"
            allowfullscreen
            muted
        ></iframe>
    </div>

    <!-- Script para controlar el video -->
    <script>
        const playBtn = document.getElementById('playBtn');
        const videoFrame = document.getElementById('videoFrame');
        const rotateMessage = document.getElementById('rotateMessage');

        // Detectar dispositivo m√≥vil
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        // Mostrar bot√≥n si es m√≥vil
        if (isMobile) {
            playBtn.style.display = 'block';
        }

        // Funci√≥n para reproducir video
        function playVideo() {
            try {
                // Intentar comando de reproducci√≥n
                videoFrame.contentWindow.postMessage(
                    '{"event":"command","func":"playVideo","args":""}',
                    '*'
                );
                playBtn.style.display = 'none'; // Ocultar bot√≥n
            } catch (e) {
                console.error("Error al reproducir:", e);
                alert("Por favor, toca el video para iniciar la reproducci√≥n");
            }
        }

        // Evento para bot√≥n manual
        playBtn.addEventListener('click', playVideo);

        // Manejar rotaci√≥n de pantalla
        window.addEventListener('orientationchange', () => {
            if (window.orientation === 90 || window.orientation === -90) {
                // Modo horizontal
                rotateMessage.style.display = 'none';
                document.body.style.height = '100vh';
                videoFrame.style.height = '100vh';
            } else {
                // Modo vertical
                rotateMessage.style.display = 'block';
                videoFrame.style.height = isMobile ? 'calc(100vh - 50px)' : '80%';
            }
        });

        // Inicializar mensaje de rotaci√≥n
        if (isMobile && window.orientation !== 90 && window.orientation !== -90) {
            rotateMessage.style.display = 'block';
        }
    </script>
</body>
</html>
